define(function(){"use strict";function i(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(e){return null}}function u(t){this.time=t.time,this.target=t.target,this.rootBounds=r(t.rootBounds),this.boundingClientRect=r(t.boundingClientRect),this.intersectionRect=r(t.intersectionRect||n()),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,t=e.width*e.height,e=this.intersectionRect,e=e.width*e.height;this.intersectionRatio=t?Number((e/t).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var r,n,o,e=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o=o||setTimeout(function(){r(),o=null},n)}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(t,e,r,n){"function"==typeof t.addEventListener?t.addEventListener(e,r,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,r)}function s(t,e,r,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,r,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,r)}function p(t){var e;try{e=t.getBoundingClientRect()}catch(r){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):n()}function n(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function r(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function d(t,e){var r=e.top-t.top,t=e.left-t.left;return{top:r,left:t,height:e.height,width:e.width,bottom:r+e.height,right:t+e.width}}function e(t,e){for(var r=e;r;){if(r==t)return!0;r=f(r)}return!1}function f(t){var e=t.parentNode;return 9==t.nodeType&&t!=g?i(t):e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}var g,o,m,y;"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(g=function(){for(var t=window.document,e=i(t);e;)e=i(t=e.ownerDocument);return t}(),o=[],y=m=null,t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t._setupCrossOriginUpdater=function(){return m=m||function(t,e){y=t&&e?d(t,e):n(),o.forEach(function(t){t._checkForIntersections()})}},t._resetCrossOriginUpdater=function(){y=m=null},t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){t=t||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(t,e,r){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==r[e-1]})},t.prototype._parseRootMargin=function(t){t=(t||"0px").split(/\s+/).map(function(t){t=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},t.prototype._monitorIntersections=function(e){var r,n,o,t=e.defaultView;t&&-1==this._monitoringDocuments.indexOf(e)&&(r=this._checkForIntersections,o=n=null,this.POLL_INTERVAL?n=t.setInterval(r,this.POLL_INTERVAL):(a(t,"resize",r,!0),a(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(o=new t.MutationObserver(r)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push(function(){var t=e.defaultView;t&&(n&&t.clearInterval(n),s(t,"resize",r,!0)),s(e,"scroll",r,!0),o&&o.disconnect()}),e==(this.root&&this.root.ownerDocument||g)||(t=i(e))&&this._monitorIntersections(t.ownerDocument))},t.prototype._unmonitorIntersections=function(n){var o,t,e=this._monitoringDocuments.indexOf(n);-1!=e&&(o=this.root&&this.root.ownerDocument||g,this._observationTargets.some(function(t){if((e=t.element.ownerDocument)==n)return!0;for(;e&&e!=o;){var e,r=i(e);if((e=r&&r.ownerDocument)==n)return!0}return!1})||(t=this._monitoringUnsubscribes[e],this._monitoringDocuments.splice(e,1),this._monitoringUnsubscribes.splice(e,1),t(),n==o||(t=i(n))&&this._unmonitorIntersections(t.ownerDocument)))},t.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var e=this._monitoringUnsubscribes.length=0;e<t.length;e++)t[e]()},t.prototype._checkForIntersections=function(){var a,s;!this.root&&m&&!y||(a=this._rootIsInDom(),s=a?this._getRootRect():n(),this._observationTargets.forEach(function(t){var e=t.element,r=p(e),n=this._rootContainsTarget(e),o=t.entry,i=a&&n&&this._computeTargetAndRootIntersection(e,r,s),i=t.entry=new u({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:r,rootBounds:m&&!this.root?null:s,intersectionRect:i});o?a&&n?this._hasCrossedThreshold(o,i)&&this._queuedEntries.push(i):o&&o.isIntersecting&&this._queuedEntries.push(i):this._queuedEntries.push(i)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this))},t.prototype._computeTargetAndRootIntersection=function(t,e,r){if("none"!=window.getComputedStyle(t).display){for(var n=e,o=f(t),i=!1;!i&&o;){var a,s,u,c,l=null,h=1==o.nodeType?window.getComputedStyle(o):{};if("none"==h.display)return null;if(o==this.root||9==o.nodeType?(i=!0,o==this.root||o==g?m&&!this.root?!y||0==y.width&&0==y.height?n=l=o=null:l=y:l=r:(s=(a=f(o))&&p(a),u=a&&this._computeTargetAndRootIntersection(a,s,r),s&&u?(o=a,l=d(s,u)):n=o=null)):o!=(c=o.ownerDocument).body&&o!=c.documentElement&&"visible"!=h.overflow&&(l=p(o)),l&&(a=l,s=n,l=h=c=u=void 0,u=Math.max(a.top,s.top),c=Math.min(a.bottom,s.bottom),h=Math.max(a.left,s.left),l=Math.min(a.right,s.right),s=c-u,n=0<=(a=l-h)&&0<=s?{top:u,bottom:c,left:h,right:l,width:a,height:s}:null),!n)break;o=o&&f(o)}return n}},t.prototype._getRootRect=function(){var t,e;return e=this.root?p(this.root):(t=g.documentElement,e=g.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(e)},t.prototype._expandRectByRootMargin=function(r){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?r.width:r.height)/100}),t={top:r.top-t[0],right:r.right+t[1],bottom:r.bottom+t[2],left:r.left-t[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},t.prototype._hasCrossedThreshold=function(t,e){var r=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(r!==n)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==r||i==n||i<r!=i<n)return!0}},t.prototype._rootIsInDom=function(){return!this.root||e(g,this.root)},t.prototype._rootContainsTarget=function(t){return e(this.root||g,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},t.prototype._registerInstance=function(){o.indexOf(this)<0&&o.push(this)},t.prototype._unregisterInstance=function(){var t=o.indexOf(this);-1!=t&&o.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=u)),window.MutationObserver||(window.MutationObserver=function(b){function n(t){this.i=[],this.m=t}function i(e){!function r(){var t=e.takeRecords();t.length&&e.m(t,e),e.h=setTimeout(r,n._period)}()}function w(t){var e,r={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(e in t)r[e]!==b&&t[e]!==b&&(r[e]=t[e]);return r}function a(n,o){var i=s(n,o);return function(t){var e,f,g,m,r=t.length;function y(t,e,r,n,o){var i,a,s,u=t.length-1;for(o=-~((u-o)/2);s=t.pop();)i=r[s.j],a=n[s.l],g.c&&o&&Math.abs(s.j-s.l)>=u&&(f.push(w({type:"childList",target:e,addedNodes:[i],removedNodes:[i],nextSibling:i.nextSibling,previousSibling:i.previousSibling})),o--),g.b&&a.b&&T(f,i,a.b,g.f),g.a&&3===i.nodeType&&i.nodeValue!==a.a&&f.push(w({type:"characterData",target:i,oldValue:a.a})),g.g&&v(i,a)}function v(t,e){for(var r,n,o,i,a,s=t.childNodes,u=e.c,c=s.length,l=u?u.length:0,h=0,p=0,d=0;p<c||d<l;)(i=s[p])===(a=(o=u[d])&&o.node)?(g.b&&o.b&&T(f,i,o.b,g.f),g.a&&o.a!==b&&i.nodeValue!==o.a&&f.push(w({type:"characterData",target:i,oldValue:o.a})),n&&y(n,t,s,u,h),g.g&&(i.childNodes.length||o.c&&o.c.length)&&v(i,o),p++,d++):(m=!0,r||(r={},n=[]),i&&(r[o=_(i)]||(r[o]=!0,-1===(o=x(u,i,d,"node"))?g.c&&(f.push(w({type:"childList",target:t,addedNodes:[i],nextSibling:i.nextSibling,previousSibling:i.previousSibling})),h++):n.push({j:p,l:o})),p++),a&&a!==s[p]&&(r[o=_(a)]||(r[o]=!0,-1===(o=x(s,a,p))?g.c&&(f.push(w({type:"childList",target:e.node,removedNodes:[a],nextSibling:u[d+1],previousSibling:u[d-1]})),h--):n.push({j:o,l:d})),d++));n&&y(n,t,s,u,h)}o.a&&3===n.nodeType&&n.nodeValue!==i.a&&t.push(new w({type:"characterData",target:n,oldValue:i.a})),o.b&&i.b&&T(t,n,i.b,o.f),(o.c||o.g)&&(f=t,g=o,v(n,i),e=m),!e&&t.length===r||(i=s(n,o))}}function T(t,e,r,n){for(var o,i,a={},s=e.attributes,u=s.length;u--;)i=(o=s[u]).name,n&&n[i]===b||(c(e,o)!==r[i]&&t.push(w({type:"attributes",target:e,attributeName:i,oldValue:r[i],attributeNamespace:o.namespaceURI})),a[i]=!0);for(i in r)a[i]||t.push(w({target:e,type:"attributes",attributeName:i,oldValue:r[i]}))}function s(t,n){var e=!0;return function o(r){var t={node:r};return!n.a||3!==r.nodeType&&8!==r.nodeType?(n.b&&e&&1===r.nodeType&&(t.b=u(r.attributes,function(t,e){return n.f&&!n.f[e.name]||(t[e.name]=c(r,e)),t},{})),e&&(n.c||n.a||n.b&&n.g)&&(t.c=function(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=e(t[n],n,t);return r}(r.childNodes,o)),e=n.g):t.a=r.nodeValue,t}(t)}function _(t){try{return t.id||(t.mo_id=t.mo_id||o++)}catch(e){try{return t.nodeValue}catch(r){return o++}}}function u(t,e,r){for(var n=0;n<t.length;n++)r=e(r,t[n],n,t);return r}function x(t,e,r,n){for(;r<t.length;r++)if((n?t[r][n]:t[r])===e)return r;return-1}n._period=30,n.prototype={observe:function(t,e){for(var r={b:!!(e.attributes||e.attributeFilter||e.attributeOldValue),c:!!e.childList,g:!!e.subtree,a:!(!e.characterData&&!e.characterDataOldValue)},n=this.i,o=0;o<n.length;o++)n[o].s===t&&n.splice(o,1);e.attributeFilter&&(r.f=u(e.attributeFilter,function(t,e){return t[e]=!0,t},{})),n.push({s:t,o:a(t,r)}),this.h||i(this)},takeRecords:function(){for(var t=[],e=this.i,r=0;r<e.length;r++)e[r].o(t);return t},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var t=document.createElement("i");t.style.top=0;var c=(t="null"!=t.attributes.style.value)?function(t,e){return e.value}:function(t,e){return"style"!==e.name?e.value:t.style.cssText},o=1;return n}(void 0));var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function l(){}l.prototype.paramType=function(t){return Object.prototype.toString.call(t).replace("[object ","").replace("]","")},l.prototype.objHasKay=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.prototype.ArrayToObj=function(t){for(var e={},r=0;r<t.length;r++)e[t[r]]="";return e},l.prototype.keyValueToObje=function(t,e){var r={};return r[t]=e,r},l.prototype.toDeep=function(t){var e=null;if("Array"===this.paramType(t)){e=[];for(var r=0;r<t.length;r++)e.push(this.toDeep(t[r]))}else if("Object"===this.paramType(t))for(var n in e={},t)e[n]=this.toDeep(t[n]);else e=t;return e},l.prototype.toDeepObj=function(t,e){var r={};if("String"===this.paramType(t))return r=this.keyValueToObje(t,e);if("Array"===this.paramType(t))return r=this.ArrayToObj(t);if("Object"===this.paramType(t))for(var n in t)r[n]=this.toDeepObj(t[n]);return r},l.prototype.toDeep=function(t){var e=null;if("Array"===this.paramType(t)){e=[];for(var r=0;r<t.length;r++)e.push(this.toDeep(t[r]))}else if("Object"===this.paramType(t))for(var n in e={},t)e[n]=this.toDeep(t[n]);else e=t;return e},l.prototype.toObj=function(t,e){var r={};return"String"===this.paramType(t)?r=this.keyValueToObje(t,e):"Array"===this.paramType(t)?r=this.ArrayToObj(t):"Object"===this.paramType(t)?t:r},l.prototype.objMerge=function(t,e){if("Object"!==this.paramType(t)||"Object"!==this.paramType(e))return t;var r,n,o={};for(r in t)o[r]=t[r];for(n in e){var i=e[n],a=o[n],s=this.paramType(i),u=this.paramType(a);o[n]=a&&"Object"===u&&"Object"===s?this.objMerge(a,i):"Array"===u&&"Array"===s?this.arrayMergeUnique(a,i):"Function"===s&&"Function"===u?this.compose(a,i):i}return o},l.prototype.compose=function(){var r=arguments,n=r.length-1;return function(){for(var t=n,e=r[n].apply(this,arguments);t--;)e=r[t].call(this,e);return e}},l.prototype.fnMerge=function(t,e){return this.objMerge(t,e)},l.prototype.arrayUnique=function(t){for(var e=[],r={},n=0;n<t.length;n++)r[t[n]]||(r[t[n]]=!0,e.push(t[n]));return e},l.prototype.arrayMerge=function(t,e){for(var r=[],n=0;n<t.length;n++){var o=t[n];"Object"===this.paramType(t[n])&&(o=this.toDeep(t[n])),r.push(o)}for(var i=0;i<e.length;i++){var a=e[i];"Object"===this.paramType(e[i])&&(a=this.toDeep(e[i])),r.push(a)}return r},l.prototype.arrayMergeUnique=function(t,e){return t.push.apply(t,e),this.arrayUnique(t)},l.prototype.encode=function(t){var e,r,n,o,i,a,s="",u=0;for(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r);n<128?e+=String.fromCharCode(n):(127<n&&n<2048?e+=String.fromCharCode(n>>6|192):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128)),e+=String.fromCharCode(63&n|128))}return e}(t);u<t.length;)n=(a=t.charCodeAt(u++))>>2,o=(3&a)<<4|(e=t.charCodeAt(u++))>>4,i=(15&e)<<2|(r=t.charCodeAt(u++))>>6,a=63&r,isNaN(e)?i=a=64:isNaN(r)&&(a=64),s=s+c.charAt(n)+c.charAt(o)+c.charAt(i)+c.charAt(a);return s},l.prototype.decode=function(t){var e,r,n,o,i,a="",s=0;for(t=t.replace(/[^A-Za-z0-9+/=]/g,"");s<t.length;)e=c.indexOf(t.charAt(s++))<<2|(n=c.indexOf(t.charAt(s++)))>>4,r=(15&n)<<4|(o=c.indexOf(t.charAt(s++)))>>2,n=(3&o)<<6|(i=c.indexOf(t.charAt(s++))),a+=String.fromCharCode(e),64!==o&&(a+=String.fromCharCode(r)),64!==i&&(a+=String.fromCharCode(n));return a=function(t){for(var e,r,n="",o=0,i=0;o<t.length;)(e=t.charCodeAt(o))<128?(n+=String.fromCharCode(e),o++):191<e&&e<224?(i=t.charCodeAt(o+1),n+=String.fromCharCode((31&e)<<6|63&i),o+=2):(i=t.charCodeAt(o+1),r=t.charCodeAt(o+2),n+=String.fromCharCode((15&e)<<12|(63&i)<<6|63&r),o+=3);return n}(a)},l.prototype.isEmptyObject=function(t){for(var e in t)return!1;return!0},l.prototype.format=function(t,e){var r,n=t.getTimezoneOffset(),o={"M+":(t=new Date(t.getTime()+60*n*1e3+288e5)).getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};for(r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,3===RegExp.$1.length?(""+o[r]).length<3?("00"+o[r]).substr(("00"+o[r]).length-3,("00"+o[r]).length):o[r]:("00"+o[r]).substr((""+o[r]).length)));return e},l.prototype.MD5=function(t,e){function u(t,e){return t<<e|t>>>32-e}function c(t,e){var r=2147483648&t,n=2147483648&e,o=1073741824&t,i=1073741824&e,e=(1073741823&t)+(1073741823&e);return o&i?2147483648^e^r^n:o|i?1073741824&e?3221225472^e^r^n:1073741824^e^r^n:e^r^n}function r(t,e,r,n,o,i,a){var s;return t=c(t,c(c((s=e)&r|~s&n,o),a)),c(u(t,i),e)}function n(t,e,r,n,o,i,a){return t=c(t,c(c(e&(n=n)|r&~n,o),a)),c(u(t,i),e)}function o(t,e,r,n,o,i,a){return t=c(t,c(c(e^r^n,o),a)),c(u(t,i),e)}function i(t,e,r,n,o,i,a){return t=c(t,c(c(r^(e|~n),o),a)),c(u(t,i),e)}function a(t){for(var e="",r="",n=0;n<=3;n++)e+=(r="0"+(t>>>8*n&255).toString(16)).substr(r.length-2,2);return e}for(var s,l,h,p,d=function(t){for(var e,r=t.length,n=16*(1+((n=r+8)-n%64)/64),o=Array(n-1),i=0,a=0;a<r;)i=a%4*8,o[e=(a-a%4)/4]=o[e]|t.charCodeAt(a)<<i,a++;return i=a%4*8,o[e=(a-a%4)/4]=o[e]|128<<i,o[n-2]=r<<3,o[n-1]=r>>>29,o}(t),f=1732584193,g=4023233417,m=2562383102,y=271733878,v=0;v<d.length;v+=16)f=r(s=f,l=g,h=m,p=y,d[v+0],7,3614090360),y=r(y,f,g,m,d[v+1],12,3905402710),m=r(m,y,f,g,d[v+2],17,606105819),g=r(g,m,y,f,d[v+3],22,3250441966),f=r(f,g,m,y,d[v+4],7,4118548399),y=r(y,f,g,m,d[v+5],12,1200080426),m=r(m,y,f,g,d[v+6],17,2821735955),g=r(g,m,y,f,d[v+7],22,4249261313),f=r(f,g,m,y,d[v+8],7,1770035416),y=r(y,f,g,m,d[v+9],12,2336552879),m=r(m,y,f,g,d[v+10],17,4294925233),g=r(g,m,y,f,d[v+11],22,2304563134),f=r(f,g,m,y,d[v+12],7,1804603682),y=r(y,f,g,m,d[v+13],12,4254626195),m=r(m,y,f,g,d[v+14],17,2792965006),f=n(f,g=r(g,m,y,f,d[v+15],22,1236535329),m,y,d[v+1],5,4129170786),y=n(y,f,g,m,d[v+6],9,3225465664),m=n(m,y,f,g,d[v+11],14,643717713),g=n(g,m,y,f,d[v+0],20,3921069994),f=n(f,g,m,y,d[v+5],5,3593408605),y=n(y,f,g,m,d[v+10],9,38016083),m=n(m,y,f,g,d[v+15],14,3634488961),g=n(g,m,y,f,d[v+4],20,3889429448),f=n(f,g,m,y,d[v+9],5,568446438),y=n(y,f,g,m,d[v+14],9,3275163606),m=n(m,y,f,g,d[v+3],14,4107603335),g=n(g,m,y,f,d[v+8],20,1163531501),f=n(f,g,m,y,d[v+13],5,2850285829),y=n(y,f,g,m,d[v+2],9,4243563512),m=n(m,y,f,g,d[v+7],14,1735328473),f=o(f,g=n(g,m,y,f,d[v+12],20,2368359562),m,y,d[v+5],4,4294588738),y=o(y,f,g,m,d[v+8],11,2272392833),m=o(m,y,f,g,d[v+11],16,1839030562),g=o(g,m,y,f,d[v+14],23,4259657740),f=o(f,g,m,y,d[v+1],4,2763975236),y=o(y,f,g,m,d[v+4],11,1272893353),m=o(m,y,f,g,d[v+7],16,4139469664),g=o(g,m,y,f,d[v+10],23,3200236656),f=o(f,g,m,y,d[v+13],4,681279174),y=o(y,f,g,m,d[v+0],11,3936430074),m=o(m,y,f,g,d[v+3],16,3572445317),g=o(g,m,y,f,d[v+6],23,76029189),f=o(f,g,m,y,d[v+9],4,3654602809),y=o(y,f,g,m,d[v+12],11,3873151461),m=o(m,y,f,g,d[v+15],16,530742520),f=i(f,g=o(g,m,y,f,d[v+2],23,3299628645),m,y,d[v+0],6,4096336452),y=i(y,f,g,m,d[v+7],10,1126891415),m=i(m,y,f,g,d[v+14],15,2878612391),g=i(g,m,y,f,d[v+5],21,4237533241),f=i(f,g,m,y,d[v+12],6,1700485571),y=i(y,f,g,m,d[v+3],10,2399980690),m=i(m,y,f,g,d[v+10],15,4293915773),g=i(g,m,y,f,d[v+1],21,2240044497),f=i(f,g,m,y,d[v+8],6,1873313359),y=i(y,f,g,m,d[v+15],10,4264355552),m=i(m,y,f,g,d[v+6],15,2734768916),g=i(g,m,y,f,d[v+13],21,1309151649),f=i(f,g,m,y,d[v+4],6,4149444226),y=i(y,f,g,m,d[v+11],10,3174756917),m=i(m,y,f,g,d[v+2],15,718787259),g=i(g,m,y,f,d[v+9],21,3951481745),f=c(f,s),g=c(g,l),m=c(m,h),y=c(y,p);return 32===e?a(f)+a(g)+a(m)+a(y):a(g)+a(m)},l.prototype.clientTimeZone=function(){var t=(new Date).getTimezoneOffset(),e=parseInt(t/60),r=t%60,t="-";return(e<=0||r<0)&&(t="+",e=-e,r<0&&(r=-r)),1===(e+="").length&&(e="0"+e),1===(r+="").length&&(r="0"+r),t+e+":"+r},l.prototype.delEmpty=function(t){var e,r,n={};for(e in t){var o=!0,i=this.paramType(t[e]);"Object"!==i?(t[e]||"Number"===i&&!isNaN(t[e])||"Boolean"===i||(o=!1),!0===o&&(n[e]=t[e])):n[e]=this.delEmpty(t[e])}for(r in n){var a,s=[];for(a in n[r])s.push(n[r][a]);0===s.length&&n[r].constructor===Object&&delete n[r]}return n},l.prototype.addEvent=function(t,e,r,n){if(document.addEventListener)if("Array"!==this.paramType(t)&&"HTMLCollection"!==this.paramType(t)||!t.length||t===window)t.addEventListener(e,r,n);else for(var o=0;o<t.length;o++)this.addEvent(t[o],e,r,n);else if(t.length&&t!==window)for(var i=0;i<t.length;i++)this.addEvent(t[i],e,r);else t.attachEvent("on"+e,function(){return r.call(t,window.event)})},l.prototype.GetUrlParam=function(t){var e=document.location.toString(),r=window.name;"String"===this.paramType(r)&&-1<r.indexOf(t)&&(e=r);var n,o=e.split("?");if(1<o.length){for(var i,a=[],s=1;s<o.length;s++)a.push.apply(a,o[s].split("&"));for(var u=0;u<a.length;u++)if(null!=(i=a[u].split("="))&&i[0]===t){var c=i[1];if(-1<i[1].indexOf("#")&&(c=c.split("#")[0]),-1<c.indexOf("%")){try{var l=decodeURI(c);if(n=l,!!new RegExp("[\\u4E00-\\u9FFF]+","g").test(n))return l}catch(h){}if("Object"===this.paramType(window.AnalysysModule)&&"Function"===this.paramType(window.AnalysysModule.decodeGBK))try{return window.AnalysysModule.decodeGBK(c,"gbk")}catch(h){}}return c}return""}return""},l.prototype.stringSlice=function(t,e){return t.slice(0,e)},l.prototype.trim=function(t){return"String"===this.paramType(t)?t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):t},l.prototype.changeHash=function(t){var e=window.history.pushState,r=window.history.replaceState;window.history.pushState=function(){e.apply(window.history,arguments),t.apply(t)},window.history.replaceState=function(){r.apply(window.history,arguments),t.apply(t)};var n=e?"popstate":"hashchange";"on"+(n=window.ActiveXObject||"ActiveXObject"in window?"hashchange":"popstate")in window&&this.addEvent(window,n,function(){setTimeout(t,0)})},l.prototype.checkTypeList=function(t,e){var r=this.paramType(t);if("String"===r){var n=window.location.href,o=window.location.protocol+"//"+window.location.host,i=o+window.location.pathname;if(-1<[n,o,i+"index.html",i,i+window.location.hash].indexOf(t))return!0}else{if("Function"===r)return t.call(t,e);if("Array"===r)for(var a=0;a<t.length;a++)if(!0===this.checkTypeList(t[a],e))return!0}return!1},l.prototype.selectorAllEleList=function(t){var e=[],r=t.split(".")[0];if("Function"===this.paramType(document.querySelectorAll)&&t.indexOf("|")<0)try{return document.querySelectorAll(t)}catch(d){}var n;if(-1<t.indexOf("#")){n=t.split(".")[0].split("#")[1];var o=document.getElementById(n);o&&e.push(o)}else{if(t.indexOf(".")<0)return document.getElementsByTagName(r);if(-1<t.indexOf("[")&&-1<t.indexOf("]"))for(var i=document.getElementsByTagName("*"),a=t.replace("[","").replace("]",""),s=0;s<i.length;s++){var u=i[s].getAttribute(a);"String"===this.paramType(u)&&e.push(o)}else for(var c=document.getElementsByTagName(r),l=0;l<c.length;l++){var h=c[l],p="String"===this.paramType(h.className)?h.className.split(" "):[];0<p.length&&-1<(r+"."+p.join(".")).indexOf(t)&&e.push(h)}}return e},l.prototype.getDomainFromUrl=function(t,e){if(""===e)return"";var r=(e=e||window.location.hostname).split("/");2<r.length&&(e=r[2]);if(!0===/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/.test(e)||"localhost"===e)return"";var n=e.split("."),o=!0===t?2:n.length;("Number"!==this.paramType(o)||o<2)&&(o=2);var i=[];if(!(1<n.length))return"";n.length<o&&(o=n.length);for(var a=n.length-1;0<=a&&i.length!==o;a--)i.push(n[a]);return i.reverse().join(".")},l.prototype.getUrlPath=function(){var t=window.location.hash;return-1<t.indexOf("?")&&(t=t.split("?")[0]),window.location.host+window.location.pathname+t};var v=new l;function h(t){for(var e=t.tagName.toLowerCase(),r="",n="String"!==v.paramType(t.className)?[]:t.className.split(" "),o=0;o<n.length;o++)n[o]&&n[o].indexOf("ARK")<0&&(r+="."+n[o]);return{className:r,id:t.id||"",tagName:e}}function b(t,e){for(var r,n,o,i=[],a=[],s=t;null!=s;)1===s.nodeType?(r=h(s),!(n=null)!==e&&(n=function(t){var e=t.parentNode,r=0,n=!0,o=null;for(;null!==e&&!0===n;)if(1===e.nodeType){for(var i=e.children,a=[],s=[],u=0;u<i.length;u++){var c=h(i[u]);a.push(c),t===i[u]&&(s=c,r=u)}for(var l=0;l<i.length;l++)!0===function(t,e,r){var n=t.newPath,o=v.arrayMerge([],n),i=v.arrayMerge([],e),n=v.arrayMerge([],n);if(o===i)return!0;if(o.length<i.length)return!1;if(t.ele&&o.length>i.length){if(!0===r)return!1;var a=o.length-i.length;o.splice(0,a);for(var s=t.ele,u=0;u<a;u++)s=s.parentNode||document.body;t.ele=s,n=v.arrayMerge([],o)}var c=!0,l=0;for(;l<i.length;){var h=i[l],p=o[l];if(!0===v.objHasKay(p,"row")&&!1===v.objHasKay(h,"row")&&!1===v.objHasKay(p,"index")&&delete p.row,h.id&&h.id!==p.id||h.tagName!==p.tagName||"String"===v.paramType(h.className)&&(p.className.indexOf(h.className)<0||h.className.indexOf(p.className)<0)||p.index!==h.index||p.row!==h.row){c=!1;break}l++}!0===c&&(t.newPath=n);return c}({newPath:a[l]},s)&&(o=r);n=!1}else e=e.parentNode;return{row:o,index:r}}(s)),i.push(r.tagName+(r.id?"#"+r.id:"")+r.className),o={id:r.id,tagName:r.tagName},null!==r.row?o.row=n.row:o.index=n.index,a.push(v.delEmpty(o)),s=s.parentNode):s=s.parentNode;return{path:i.join("<"),newPath:a}}var w=new IntersectionObserver(function(t){clearTimeout(_);for(var e=0;e<t.length;e++){var r=t[e],n=r.target;if(0<r.intersectionRatio&&1!==n.isARKExposure)x.push(n);else if(0===r.intersectionRatio&&E.exposure&&"Number"===v.paramType(E.exposure.valid_time))for(var o=0;o<x.length;o++)x[o]===n&&x.splice(o,1)}var i="Number"===v.paramType(E.exposure.valid_time)&&300<E.exposure.valid_time?E.exposure.valid_time:300;_=setTimeout(function(){0<x.length&&function(){for(var t={},e=E.exposure.multiple,r=0;r<x.length;r++){var n,o,i=x[r],a=function(t){var e={};if("Object"===v.paramType(E.exposure)){var r,n=E.exposure.property;if("Object"===v.paramType(n))for(var o in n)"Function"===v.paramType(n[o])?e[o]=n[o].call(n[o],t):e[o]=n[o];else"Function"===v.paramType(n)&&(r=n.call(n,t),"Object"===v.paramType(r)&&(e=r))}var i=t.getAttribute("data-ark-exposure")||t.parentNode.getAttribute("data-ark-exposure-child");if(i)try{i=JSON.parse(i),e=v.objMerge(e,i)}catch(s){}e.exposure_id||(a=b(t).newPath,e.exposure_id=v.MD5(JSON.stringify(a)));var a=function(t,e){var r="";if("input"===t.tagName.toLowerCase()?r=t.value||"":"img"===t.tagName.toLowerCase()?r=t.getAttribute("alt")||t.getAttribute("title")||"":"a"===t.tagName.toLowerCase()&&(r=t.getAttribute("title")||""),!r)for(var n=t.childNodes,o=0;o<n.length;o++)3===n[o].nodeType&&(r+=n[o].nodeValue);return r=r&&"String"===v.paramType(r)?r.replace(/[\r\n]/g," ").replace(/[ ]+/g," "):"","input"===t.tagName.toLowerCase()&&!0!==e?"":r=v.trim(r)}(t);""!==a&&(e.exposure_content=a);return e}(i),s={};for(n in a)"Number"!==v.paramType(a[n])&&"Boolean"!==v.paramType(a[n])&&"String"!==v.paramType(a[n])||(!(s[n]=[a[n].toString()])===v.objHasKay(t,n)&&(t[n]=[]),t[n].push.apply(t[n],s[n]));E.exposure&&!0===E.exposure.exposure_click&&1!==i.isARKExposureClick&&(i.isARKExposureClick=1,o=function(t){return function(){t.$url=window.location.href,document.title&&(t.$title=document.title||""),window.AnalysysAgent&&window.AnalysysAgent.track("exposure_click",t)}}(s),v.addEvent(i,"click",o,!0)),i.isARKExposure=1,"Function"===v.paramType(e)&&(e=e.call(e,i)),"Number"!==v.paramType(e)&&!0!==e||(i=function(t){return function(){t.isARKExposure=0}}(i),setTimeout(i,!0===e?0:e))}t.$url=window.location.href,document.title&&(t.$title=document.title||"");window.AnalysysAgent&&window.AnalysysAgent.track("exposure_points",t),x=[]}()},i)},{threshold:[.01]}),T=new MutationObserver(N),_=null,x=[];function O(t){for(var e=0;e<t.length;e++){var r=t[e];r.hasARKExposure||!0!==function(t){if(E.exposure.element_list)for(var e=A(),r=0;r<e.length;r++)if(t===e[r])return!0;return!(1!==t.nodeType||t.getAttribute("data-ark-ignore")||!(null!==t.getAttribute("data-ark-exposure")||t.parentNode&&null!==t.parentNode.getAttribute("data-ark-exposure-child")))}(r)||(w.observe(r),r.hasARKExposure=1)}}function A(){var t,e=[];return E.exposure.element_list&&(t=E.exposure.element_list,"Array"===v.paramType(t)||"HTMLCollection"===v.paramType(t)?e=t:"Function"===v.paramType(t)&&(t=t.call(t),"HTMLCollection"!==v.paramType(t)&&"Array"!==v.paramType(t)||(e=t))),e}var E={exposure:{valid_time:300,property:{},exposure_click:!1,multiple:!1,element_list:[],Version:"4.5.0"}};function N(){window.AnalysysAgent&&(E=v.objMerge(E,window.AnalysysAgent.config)),T.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),O(v.selectorAllEleList("[data-ark-exposure]")),O(A());for(var t=v.selectorAllEleList("[data-ark-exposure-child]"),e=0;e<t.length;e++)O(t[e].childNodes)}v.addEvent(window,"load",N),v.changeHash(N)});
