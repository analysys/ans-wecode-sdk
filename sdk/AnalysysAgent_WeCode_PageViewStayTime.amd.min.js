define(["exports"],function(e){"use strict";var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(){}t.prototype.paramType=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")},t.prototype.objHasKay=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.prototype.ArrayToObj=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]="";return t},t.prototype.keyValueToObje=function(e,t){var r={};return r[e]=t,r},t.prototype.toDeep=function(e){var t=null;if("Array"===this.paramType(e)){t=[];for(var r=0;r<e.length;r++)t.push(this.toDeep(e[r]))}else if("Object"===this.paramType(e))for(var n in t={},e)t[n]=this.toDeep(e[n]);else t=e;return t},t.prototype.toDeepObj=function(e,t){var r={};if("String"===this.paramType(e))return r=this.keyValueToObje(e,t);if("Array"===this.paramType(e))return r=this.ArrayToObj(e);if("Object"===this.paramType(e))for(var n in e)r[n]=this.toDeepObj(e[n]);return r},t.prototype.toDeep=function(e){var t=null;if("Array"===this.paramType(e)){t=[];for(var r=0;r<e.length;r++)t.push(this.toDeep(e[r]))}else if("Object"===this.paramType(e))for(var n in t={},e)t[n]=this.toDeep(e[n]);else t=e;return t},t.prototype.toObj=function(e,t){var r={};return"String"===this.paramType(e)?r=this.keyValueToObje(e,t):"Array"===this.paramType(e)?r=this.ArrayToObj(e):"Object"===this.paramType(e)?e:r},t.prototype.objMerge=function(e,t){if("Object"!==this.paramType(e)||"Object"!==this.paramType(t))return e;var r,n,o={};for(r in e)o[r]=e[r];for(n in t){var a=t[n],i=o[n],p=this.paramType(a),c=this.paramType(i);o[n]=i&&"Object"===c&&"Object"===p?this.objMerge(i,a):"Array"===c&&"Array"===p?this.arrayMergeUnique(i,a):"Function"===p&&"Function"===c?this.compose(i,a):a}return o},t.prototype.compose=function(){var r=arguments,n=r.length-1;return function(){for(var e=n,t=r[n].apply(this,arguments);e--;)t=r[e].call(this,t);return t}},t.prototype.fnMerge=function(e,t){return this.objMerge(e,t)},t.prototype.arrayUnique=function(e){for(var t=[],r={},n=0;n<e.length;n++)r[e[n]]||(r[e[n]]=!0,t.push(e[n]));return t},t.prototype.arrayMerge=function(e,t){for(var r=[],n=0;n<e.length;n++){var o=e[n];"Object"===this.paramType(e[n])&&(o=this.toDeep(e[n])),r.push(o)}for(var a=0;a<t.length;a++){var i=t[a];"Object"===this.paramType(t[a])&&(i=this.toDeep(t[a])),r.push(i)}return r},t.prototype.arrayMergeUnique=function(e,t){return e.push.apply(e,t),this.arrayUnique(e)},t.prototype.encode=function(e){var t,r,n,o,a,i,p="",c=0;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):(127<n&&n<2048?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t}(e);c<e.length;)n=(i=e.charCodeAt(c++))>>2,o=(3&i)<<4|(t=e.charCodeAt(c++))>>4,a=(15&t)<<2|(r=e.charCodeAt(c++))>>6,i=63&r,isNaN(t)?a=i=64:isNaN(r)&&(i=64),p=p+u.charAt(n)+u.charAt(o)+u.charAt(a)+u.charAt(i);return p},t.prototype.decode=function(e){var t,r,n,o,a,i="",p=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");p<e.length;)t=u.indexOf(e.charAt(p++))<<2|(n=u.indexOf(e.charAt(p++)))>>4,r=(15&n)<<4|(o=u.indexOf(e.charAt(p++)))>>2,n=(3&o)<<6|(a=u.indexOf(e.charAt(p++))),i+=String.fromCharCode(t),64!==o&&(i+=String.fromCharCode(r)),64!==a&&(i+=String.fromCharCode(n));return i=function(e){for(var t,r,n="",o=0,a=0;o<e.length;)(t=e.charCodeAt(o))<128?(n+=String.fromCharCode(t),o++):191<t&&t<224?(a=e.charCodeAt(o+1),n+=String.fromCharCode((31&t)<<6|63&a),o+=2):(a=e.charCodeAt(o+1),r=e.charCodeAt(o+2),n+=String.fromCharCode((15&t)<<12|(63&a)<<6|63&r),o+=3);return n}(i)},t.prototype.isEmptyObject=function(e){for(var t in e)return!1;return!0},t.prototype.format=function(e,t){var r,n=e.getTimezoneOffset(),o={"M+":(e=new Date(e.getTime()+60*n*1e3+288e5)).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};for(r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,3===RegExp.$1.length?(""+o[r]).length<3?("00"+o[r]).substr(("00"+o[r]).length-3,("00"+o[r]).length):o[r]:("00"+o[r]).substr((""+o[r]).length)));return t},t.prototype.MD5=function(e,t){function c(e,t){return e<<t|e>>>32-t}function u(e,t){var r=2147483648&e,n=2147483648&t,o=1073741824&e,a=1073741824&t,t=(1073741823&e)+(1073741823&t);return o&a?2147483648^t^r^n:o|a?1073741824&t?3221225472^t^r^n:1073741824^t^r^n:t^r^n}function r(e,t,r,n,o,a,i){var p;return e=u(e,u(u((p=t)&r|~p&n,o),i)),u(c(e,a),t)}function n(e,t,r,n,o,a,i){return e=u(e,u(u(t&(n=n)|r&~n,o),i)),u(c(e,a),t)}function o(e,t,r,n,o,a,i){return e=u(e,u(u(t^r^n,o),i)),u(c(e,a),t)}function a(e,t,r,n,o,a,i){return e=u(e,u(u(r^(t|~n),o),i)),u(c(e,a),t)}function i(e){for(var t="",r="",n=0;n<=3;n++)t+=(r="0"+(e>>>8*n&255).toString(16)).substr(r.length-2,2);return t}for(var p,l,s,h,f=function(e){for(var t,r=e.length,n=16*(1+((n=r+8)-n%64)/64),o=Array(n-1),a=0,i=0;i<r;)a=i%4*8,o[t=(i-i%4)/4]=o[t]|e.charCodeAt(i)<<a,i++;return a=i%4*8,o[t=(i-i%4)/4]=o[t]|128<<a,o[n-2]=r<<3,o[n-1]=r>>>29,o}(e),d=1732584193,y=4023233417,g=2562383102,m=271733878,w=0;w<f.length;w+=16)d=r(p=d,l=y,s=g,h=m,f[w+0],7,3614090360),m=r(m,d,y,g,f[w+1],12,3905402710),g=r(g,m,d,y,f[w+2],17,606105819),y=r(y,g,m,d,f[w+3],22,3250441966),d=r(d,y,g,m,f[w+4],7,4118548399),m=r(m,d,y,g,f[w+5],12,1200080426),g=r(g,m,d,y,f[w+6],17,2821735955),y=r(y,g,m,d,f[w+7],22,4249261313),d=r(d,y,g,m,f[w+8],7,1770035416),m=r(m,d,y,g,f[w+9],12,2336552879),g=r(g,m,d,y,f[w+10],17,4294925233),y=r(y,g,m,d,f[w+11],22,2304563134),d=r(d,y,g,m,f[w+12],7,1804603682),m=r(m,d,y,g,f[w+13],12,4254626195),g=r(g,m,d,y,f[w+14],17,2792965006),d=n(d,y=r(y,g,m,d,f[w+15],22,1236535329),g,m,f[w+1],5,4129170786),m=n(m,d,y,g,f[w+6],9,3225465664),g=n(g,m,d,y,f[w+11],14,643717713),y=n(y,g,m,d,f[w+0],20,3921069994),d=n(d,y,g,m,f[w+5],5,3593408605),m=n(m,d,y,g,f[w+10],9,38016083),g=n(g,m,d,y,f[w+15],14,3634488961),y=n(y,g,m,d,f[w+4],20,3889429448),d=n(d,y,g,m,f[w+9],5,568446438),m=n(m,d,y,g,f[w+14],9,3275163606),g=n(g,m,d,y,f[w+3],14,4107603335),y=n(y,g,m,d,f[w+8],20,1163531501),d=n(d,y,g,m,f[w+13],5,2850285829),m=n(m,d,y,g,f[w+2],9,4243563512),g=n(g,m,d,y,f[w+7],14,1735328473),d=o(d,y=n(y,g,m,d,f[w+12],20,2368359562),g,m,f[w+5],4,4294588738),m=o(m,d,y,g,f[w+8],11,2272392833),g=o(g,m,d,y,f[w+11],16,1839030562),y=o(y,g,m,d,f[w+14],23,4259657740),d=o(d,y,g,m,f[w+1],4,2763975236),m=o(m,d,y,g,f[w+4],11,1272893353),g=o(g,m,d,y,f[w+7],16,4139469664),y=o(y,g,m,d,f[w+10],23,3200236656),d=o(d,y,g,m,f[w+13],4,681279174),m=o(m,d,y,g,f[w+0],11,3936430074),g=o(g,m,d,y,f[w+3],16,3572445317),y=o(y,g,m,d,f[w+6],23,76029189),d=o(d,y,g,m,f[w+9],4,3654602809),m=o(m,d,y,g,f[w+12],11,3873151461),g=o(g,m,d,y,f[w+15],16,530742520),d=a(d,y=o(y,g,m,d,f[w+2],23,3299628645),g,m,f[w+0],6,4096336452),m=a(m,d,y,g,f[w+7],10,1126891415),g=a(g,m,d,y,f[w+14],15,2878612391),y=a(y,g,m,d,f[w+5],21,4237533241),d=a(d,y,g,m,f[w+12],6,1700485571),m=a(m,d,y,g,f[w+3],10,2399980690),g=a(g,m,d,y,f[w+10],15,4293915773),y=a(y,g,m,d,f[w+1],21,2240044497),d=a(d,y,g,m,f[w+8],6,1873313359),m=a(m,d,y,g,f[w+15],10,4264355552),g=a(g,m,d,y,f[w+6],15,2734768916),y=a(y,g,m,d,f[w+13],21,1309151649),d=a(d,y,g,m,f[w+4],6,4149444226),m=a(m,d,y,g,f[w+11],10,3174756917),g=a(g,m,d,y,f[w+2],15,718787259),y=a(y,g,m,d,f[w+9],21,3951481745),d=u(d,p),y=u(y,l),g=u(g,s),m=u(m,h);return 32===t?i(d)+i(y)+i(g)+i(m):i(y)+i(g)},t.prototype.clientTimeZone=function(){var e=(new Date).getTimezoneOffset(),t=parseInt(e/60),r=e%60,e="-";return(t<=0||r<0)&&(e="+",t=-t,r<0&&(r=-r)),1===(t+="").length&&(t="0"+t),1===(r+="").length&&(r="0"+r),e+t+":"+r},t.prototype.delEmpty=function(e){var t,r,n={};for(t in e){var o=!0,a=this.paramType(e[t]);"Object"!==a?(e[t]||"Number"===a&&!isNaN(e[t])||"Boolean"===a||(o=!1),!0===o&&(n[t]=e[t])):n[t]=this.delEmpty(e[t])}for(r in n){var i,p=[];for(i in n[r])p.push(n[r][i]);0===p.length&&n[r].constructor===Object&&delete n[r]}return n},t.prototype.addEvent=function(e,t,r,n){if(document.addEventListener)if("Array"!==this.paramType(e)&&"HTMLCollection"!==this.paramType(e)||!e.length||e===window)e.addEventListener(t,r,n);else for(var o=0;o<e.length;o++)this.addEvent(e[o],t,r,n);else if(e.length&&e!==window)for(var a=0;a<e.length;a++)this.addEvent(e[a],t,r);else e.attachEvent("on"+t,function(){return r.call(e,window.event)})},t.prototype.GetUrlParam=function(e){var t=document.location.toString(),r=window.name;"String"===this.paramType(r)&&-1<r.indexOf(e)&&(t=r);var n,o=t.split("?");if(1<o.length){for(var a,i=[],p=1;p<o.length;p++)i.push.apply(i,o[p].split("&"));for(var c=0;c<i.length;c++)if(null!=(a=i[c].split("="))&&a[0]===e){var u=a[1];if(-1<a[1].indexOf("#")&&(u=u.split("#")[0]),-1<u.indexOf("%")){try{var l=decodeURI(u);if(n=l,!!new RegExp("[\\u4E00-\\u9FFF]+","g").test(n))return l}catch(s){}if("Object"===this.paramType(window.AnalysysModule)&&"Function"===this.paramType(window.AnalysysModule.decodeGBK))try{return window.AnalysysModule.decodeGBK(u,"gbk")}catch(s){}}return u}return""}return""},t.prototype.stringSlice=function(e,t){return e.slice(0,t)},t.prototype.trim=function(e){return"String"===this.paramType(e)?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e},t.prototype.changeHash=function(e){var t=window.history.pushState,r=window.history.replaceState;window.history.pushState=function(){t.apply(window.history,arguments),e.apply(e)},window.history.replaceState=function(){r.apply(window.history,arguments),e.apply(e)};var n=t?"popstate":"hashchange";"on"+(n=window.ActiveXObject||"ActiveXObject"in window?"hashchange":"popstate")in window&&this.addEvent(window,n,function(){setTimeout(e,0)})},t.prototype.checkTypeList=function(e,t){var r=this.paramType(e);if("String"===r){var n=window.location.href,o=window.location.protocol+"//"+window.location.host,a=o+window.location.pathname;if(-1<[n,o,a+"index.html",a,a+window.location.hash].indexOf(e))return!0}else{if("Function"===r)return e.call(e,t);if("Array"===r)for(var i=0;i<e.length;i++)if(!0===this.checkTypeList(e[i],t))return!0}return!1},t.prototype.selectorAllEleList=function(e){var t=[],r=e.split(".")[0];if("Function"===this.paramType(document.querySelectorAll)&&e.indexOf("|")<0)try{return document.querySelectorAll(e)}catch(f){}var n;if(-1<e.indexOf("#")){n=e.split(".")[0].split("#")[1];var o=document.getElementById(n);o&&t.push(o)}else{if(e.indexOf(".")<0)return document.getElementsByTagName(r);if(-1<e.indexOf("[")&&-1<e.indexOf("]"))for(var a=document.getElementsByTagName("*"),i=e.replace("[","").replace("]",""),p=0;p<a.length;p++){var c=a[p].getAttribute(i);"String"===this.paramType(c)&&t.push(o)}else for(var u=document.getElementsByTagName(r),l=0;l<u.length;l++){var s=u[l],h="String"===this.paramType(s.className)?s.className.split(" "):[];0<h.length&&-1<(r+"."+h.join(".")).indexOf(e)&&t.push(s)}}return t},t.prototype.getDomainFromUrl=function(e,t){if(""===t)return"";var r=(t=t||window.location.hostname).split("/");2<r.length&&(t=r[2]);if(!0===/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/.test(t)||"localhost"===t)return"";var n=t.split("."),o=!0===e?2:n.length;("Number"!==this.paramType(o)||o<2)&&(o=2);var a=[];if(!(1<n.length))return"";n.length<o&&(o=n.length);for(var i=n.length-1;0<=i&&a.length!==o;i--)a.push(n[i]);return a.reverse().join(".")},t.prototype.getUrlPath=function(){var e=window.location.hash;return-1<e.indexOf("?")&&(e=e.split("?")[0]),window.location.host+window.location.pathname+e};var n=new t;function r(e){var t=+new Date;!1===l&&(c=t-p+c);var r=Number(t-i-c);r<0&&(r=Number(t-i)),window.AnalysysAgent&&window.AnalysysAgent.track?(r={pageStayTime:r,$url:s},h&&(r.$title=h),window.AnalysysAgent.track("page_close",r),"Function"===n.paramType(e)&&e.call(e,null)):console.log("Analsysy weCode SDK not init!"),o()}function o(e,t){var r=+new Date;p=i=e||r,l=!(c=0),s=window.location.href,h=1<arguments.length?t:document.title}var a=+new Date,i=a,p=a,c=0,l=!0,s=window.location.href,h=document.title,f=!0;function d(e){"Object"===n.paramType(e)&&"Boolean"===n.paramType(e.autoPageClose)&&(f=e.autoPageClose)}"onpageShow"in window?(n.addEvent(window,"pageShow",function(){i=p=+new Date}),n.addEvent(window,"pagehide",function(){!0===f&&r()})):(n.addEvent(window,"load",function(){i=p=+new Date}),n.addEvent(window,"beforeunload",function(){!0===f&&r()})),"onvisibilitychange"in document&&n.addEvent(document,"visibilitychange",function(){document.hidden?(l=!1,p=+new Date):(l=!0,c=+new Date-p+c)}),window.AnalysysModule=n.objMerge(window.AnalysysModule||{},{pageClose:{Version:"4.4.0.6",pageEndTrack:r,init:d,createTime:o}}),e.pageCloseInit=d,e.pageEndTrack=r,Object.defineProperty(e,"__esModule",{value:!0})});
